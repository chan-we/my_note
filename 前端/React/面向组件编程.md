# 组件和模块

## 模块

- 向外提供特定功能的js程序，一般就是一个js文件
- 为什么要拆成模块：随着业务逻辑的增加，代码越来越多且复杂
- 作用：复用js，简化js的编写，提高js运行效率

## 组件

- 用来实现局部功能效果的代码和资源的集合（html/css/js/image等等）
- 为什么使用组件：一个界面的功能更复杂
- 作用：复用编码，简化项目编码，提高运行效率

# 函数式组件

函数名就是组件名

```jsx
//函数式组件，返回值使其要渲染的内容（虚拟DOM） 
//注意：因为作为组件，虚拟DOM的标签需要以大写开头，所以函数的名称也应该以大写开头 
function Demo(){  
	return <h1>Hello World</h1> 
}  

//第一个参数为函数式组件，组件名需要与函数名一致 
ReactDOM.render(<Demo/>,document.getElementById('test'));
```

![img](https://raw.githubusercontent.com/chan-we/my_note/picbed/202203221634554.png)

按F12可以在Components里查看组件

![img](https://raw.githubusercontent.com/chan-we/my_note/picbed/202203221634384.png)

因为代码在被babel翻译的时候会开启严格模式，严格模式会禁止this指向window，所以函数中的this为undefined

# 类式组件

类名就是组件名

```jsx
//编写类式组件需要继承React.Component类 
class MyComponent extends React.Component{    
    //必写，返回值是需要渲染的虚拟DOM    
    //render放在当前类的原型对象上，供实例使用.    
    //render中的this是当前类的实例对象    
    render(){      
    	return <h1>Hello World</h1>    
    } 
}  
ReactDOM.render(<MyComponent/>,document.getElementById('test'));
```

# 组件实例的核心属性

以下属性只在**类式组件**上（最新版React使用[hooks](./React Hooks.md)让函数式组件也有相类似的属性）

## state

### 初始化

state保存状态，类似于Vue的data

```jsx
class MyComponent extends React.Component {
    //在构造器里创建state，state是一个对象
    //构造器需要有props参数
    constructor(props) {
        super(props);

        //初始化状态
        this.state = {
            isHot: true
        }
    }

    render() {
        return <h1>今天天气很{this.state.isHot ? '炎热' : '凉爽'}</h1>
    }
}

ReactDOM.render(<MyComponent/>, document.getElementById('test'));
```

同样的，可以在F12的Components选项卡中看到state属性

![img](https://raw.githubusercontent.com/chan-we/my_note/picbed/202203221646773.png)

### 修改

前置知识：[事件处理](./事件处理.md)

```jsx
class MyComponent extends React.Component {

    constructor(props) {
        super(props);

        this.state = {
            isHot: true
        }

        //由于changeWeather是作为onClick的回调，所以不是通过实例调用的，是直接调用的
        //类中方法默认开启了局部的严格模式，所以changeWeather的this为undefined
        //bind生成新的函数并且更改新函数的this
        this.changeWeather = this.changeWeather.bind(this)
    }

    render() {
        return <h1 onClick={this.changeWeather}>今天天气很{this.state.isHot ? '炎热' : '凉爽'}</h1>
    }

    changeWeather(){
        //注意：状态(state)不可直接更改，需要使用React.Component中的setState()更改
        //更新只更新指定的属性，而不是把整个state替换掉。也就是说state里面有的没做修改的其他值在更新后仍然存在
        this.setState({isHot: !this.state.isHot});
    }

}

ReactDOM.render(<MyComponent/>, document.getElementById('test'));
```

简写：

```jsx
class MyComponent extends React.Component {

    constructor(props) {
        super(props);
    }

    //类可以直接写赋值语句，表示在实例上追加一个属性
    state = {
        isHot: true
    }

    //函数用赋值的方法作为成员变量
    //注意一定要使用箭头函数，因为箭头函数没有自己的this
    changeWeather = () => {
        this.setState({isHot: !this.state.isHot});
    }

    render() {
        return <h1 onClick={this.changeWeather}>今天天气很{this.state.isHot ? '炎热' : '凉爽'}</h1>
    }

}

ReactDOM.render(<MyComponent/>, document.getElementById('test'));
```

## props

props是只读的

### 使用

```jsx
class Person extends React.Component{
  render(){
    return (
            <ul>
              <li>姓名：{this.props.name}</li>
              <li>性别：{this.props.sex}</li>
              <li>年龄：{this.props.age}</li>
            </ul>
    )
  }
}

//用类似DOM属性的方式给组件的props传值
ReactDOM.render(<Person name="Tom" sex="女" age="18"/>, document.getElementById('test'));
```

简写

```jsx
class Person extends React.Component{
  render(){
  //简写this.props.xxx
  const {name,sex,age} = this.props;
    return (
            <ul>
              <li>姓名：{name}</li>
              <li>性别：{sex}</li>
              <li>年龄：{age}</li>
            </ul>
    )
  }
}
const data = {name:'Jack',sex:'男',age:19}
//使用展开运算法赋值多个属性
//注意以下写法只在有React和babel支持下可以使用，并且只能用于标签
//原生JS无法直接使用...data。原生JS有{...data}，表示深拷贝一个对象，但与这里的意思并不一致，因为这里外面的花括号表示里面是JS表达式
ReactDOM.render(<Person {...data}/>, document.getElementById('test'));
```

### 使用 PropTypes 进行类型检查

官方文档：[https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html](https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html)

[prop-types.js](https://uploader.shimo.im/f/ff1x8Dxs0SGCuTGr.js?fileGuid=pTgjDG8Th8JYxHq9)

```jsx
<body>
<div id="test">
</div>
<script src="js/react.development.js"></script>
<script src="js/react-dom.development.js"></script>
<script src="js/babel.js"></script>
<!--引入prop-types，用于对逐渐标签属性进行限制-->
<script src="js/prop-types.js"></script>

<script type="text/babel">
    class Person extends React.Component {

        render() {
            const {name, sex, age} = this.props;
            return (
                    <ul>
                        <li>姓名：{name}</li>
                        <li>性别：{sex}</li>
                        <li>年龄：{age}</li>
                    </ul>
            )
        }
    }

    //给类添加propTypes属性，React会根据这个属性来限制props里属性的数据类型
    //如果数据类型对不上则会报错（页面仍会正常显示）
    Person.propTypes = {
        name: PropTypes.string.isRequired,  //isRequired前必须指定数据类型，不能单独使用
        sex: PropTypes.string,
        age: PropTypes.number
    }

    const data = {name: 'Jack', sex: '男', age: 19}

    ReactDOM.render(<Person {...data}/>, document.getElementById('test'));

</script>
</body>
```

### 默认值

默认值的数据类型和props和PropTypes限制的数据类型对不上的话也会报错

```plain
Person.defaultProps = {
    name: 'null',
    sex: 'null',
    age: 0
}
```

### 传递函数作为属性值

```jsx
class Person extends React.Component {

    render() {
        const {name, sex, age} = this.props;
        return (
                <ul>
                    <li>姓名：{name}</li>
                    <li>性别：{sex}</li>
                    <li>年龄：{age}</li>
                </ul>
        )
    }
}

Person.propTypes = {
    name: PropTypes.string.isRequired,
    sex: PropTypes.string,
    age: PropTypes.number,
    speakL: PropTypes.func //函数类型，取名为func避免与关键字function重复
}

Person.defaultProps = {
    name: 'null',
    sex: 'null',
    age: 0
}

const data = {name: 'Jack', age: '男', age: 18, speak: {speak}}

ReactDOM.render(<Person {...data}/>, document.getElementById('test'));

function speak() {
    console.log('speck')
}
```

### 简写

主要是将propType和defaultProps放在了类的内部

```jsx
class Person extends React.Component {
    //使用static把对象加在类上而不是实例对象上
    static propTypes = {
        name: PropTypes.string.isRequired,
        sex: PropTypes.string,
        age: PropTypes.number,
        speakL: PropTypes.func //函数类型，取名为func避免与关键字function重复
    }

    static defaultProps = {
        name: 'null',
        sex: 'null',
        age: 0
    }

    render() {
        const {name, sex, age} = this.props;
        return (
                <ul>
                    <li>姓名：{name}</li>
                    <li>性别：{sex}</li>
                    <li>年龄：{age}</li>
                </ul>
        )
    }
}
```

### 构造器中的props

构造器的参数props就是在虚拟DOM上传的值

```jsx
constructor(props) {
    console.log(props);
    super(props);
}
```

![图片](data:image/png;base64,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)

在为React.Component子类实现构造函数时，应在其它语句之前调用super(props)。否则，this.props在构造函数中可能会出现未定义的bug

也就是说：构造器是否接收props，是否传递给super()，取决于是否希望在构造

```jsx
constructor(props) {
    super();
    console.log(this.props);
}
```

![图片](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAAaCAYAAAAtzKvgAAAC9UlEQVRoBe3BsUs6fRzA8XeHcDbIdxAilxtrOm50V3T2DxAOKloEB5HIoVF0kAbFJXAIChxzaPGgKcQaArkhHH7LwYMQSHwQknueoacbhB/B83t64O55euBer633P357JxY6jVgkNGKR0IhFQiMWiQS//yAWvq33D8RCpxGLhEYsEhqxSGjEIqHxP+S6Lqenp4gI35XGv0hEOD8/R0T4CsdxsG0b27a5vLwkao7j4DgOYUjwTYkIruvS7XZRSvEz0zRpt9t8Zwm+SEQYDAYcHh6ilMJ1XZ6enrBtG8dxWK/XjMdjVqsVuVwO27YJ+L5Pv99nNpsRyGQybLiuS6fTIWBZFpVKBV3XCYgI29vbJJNJNnzfp9/vM5vNyGQyNBoNlFIEHMdhvV4zHo9ZrVbkcjls2ybg+z79fp/ZbEagXq9jmiYB13XpdDpslMtlwpAgJJPJhGazSaDX6+F5HoZhMBwOMU2TWq2GiDAYDAh4nsf9/T0XFxfouo7jOAyHQ0qlEq1Wi8ViQWA6nZJKpTg5OcEwDGq1GiLCYDDgs8lkQrPZJNDr9fA8D8MwGA6HFAoFarUaIkKv10MpRWA0GtHtdlFK4TgOYUkQknw+j1IK3/dJp9MERITlckmpVOKz+XzOdDplOp2ykcvlUErRbrfxPI/b21sODg7QdZ2vyOfzKKXwfZ90Ok1ARHh+fubu7o6NVCpFYD6fk81mUUoRtgT/oXK5TKFQIGo7Ozs0Gg2UUvxsPp8TFY1/4O3tDRFBRLi+vubvJJNJAp7nEbi5ueHl5YXA/v4+Dw8PiAhRUkqRTqd5fHzks93dXVzXxfd9PM9jNBoRlgRfpJQim81ydnZGKpWiWCzy+vrKr+i6TqFQoNPpEDg6OmK5XBIwDINsNku1WmWjXq9jmiZ/RURotVosFgsC1WoVy7KoVCr8SqlUotVqcXV1RcCyLCqVCnt7eziOw/HxMZZlUSwWCcvW+wdiodOIRUIjFgmNWCQSIkIsfFvvH4iF7k+ICUCfjJkqBQAAAABJRU5ErkJggg==)

```jsx
constructor(props) {
    super(props);
    console.log(this.props);
}
```

![图片](data:image/png;base64,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)

### 函数式组件使用props

函数式组件只能使用三大组件核心属性中的props，因为函数可以接收参数

```jsx
function Person(props){
    const {name,sex,age} = props;
    return (
            <ul>
                <li>姓名：{name}</li>
                <li>性别：{sex}</li>
                <li>年龄：{age}</li>
            </ul>
    )
}

ReactDOM.render(<Person name="Jerry" sex="男" age={18}/>,document.getElementById('test'))
```

因为函数没有static关键字，所以对参数的类型检查只能用以下写法

```jsx
Person.propTypes = {
    name: PropTypes.string.isRequired,
    sex: PropTypes.string,
    age: PropTypes.number,
    speakL: PropTypes.func //函数类型，取名为func避免与关键字function重复
}

Person.defaultProps = {
    name: 'null',
    sex: 'null',
    age: 0
}
```

## refs

React提醒：请勿过度使用refs。当事件源正是希望操作的DOM元素时，可以使用[event.target](https://shimo.im/docs/X9G8Wgrg8WYTY8Cp/)。亦或者使用[受控组件](https://shimo.im/docs/HvwVvTvVyjrYQwVV/)。 

### 字符串形式的ref

**这是最简单的形式，但目前已不推荐使用，并且可能在未来版本被废弃**

如果想要获取input中的值，常规写法如下

```jsx
class Demo extends React.Component {
    showData = () => {
        const input = document.getElementById('input1');
        alert(input.value);
    }

    render() {
        return (
                <div>
                    <input id="input1" type="text" placeholder="点击按钮提示数据"/>&nbsp;
                    <button onClick={this.showData}>点我提示左侧的数据</button>&nbsp;
                </div>
        )
    }
}

ReactDOM.render(<Demo/>,document.getElementById('test'));
```

然而这样写不好，因为我们又一次使用了document.getElementById
我们可以在虚拟DOM标签上添加ref属性（注意是**refs**而不是ref）

```jsx
<input ref="input1" id="input1" type="text" placeholder="点击按钮提示数据"/>
```

以下是this.refs.input1的输出（注意是**refs**而不是ref）
![图片](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiEAAAAgCAYAAADE1KgLAAASuElEQVR4Ae3BAVCV15kG4FcDeq8geoMNeD4wFpJGLUhEjdFYIVOsCRHXpW7saew20246mDHIzohmm6xb19ZJJnYM6Ea7bdM6Nf8xaUQiirjIitFoiomCGGgarrHgicTAVRS5CHa+7dmZf+YOI4oGJW3O8wzibs0I8U9yKfrTSy8sx1slFch56jtY9GQ+vox+rwpQWrYfv9lcBINEDFatfAb/kvM8rNvr96oAp/6s8VZJBXKe+g4WPZmP64mI8OK3v3oBlmVZVv8axN2aYVmWZVmWdZsNhmVZlmVZ1gAYDMuyLMuyrAEQhi4/LMuyLMuybrdB/FewLMuyLMu6zQbDsizLsixrAAyGZVmWZVnWABgMy7Isy7KsATAYlmVZlmVZA2AwLMuyLMuyBsBgWJZl/Z0jUrgRRArXQ6TQE5HC1RAp3CgiBReRApECkQKRApFCfyBSCEWk0BsiBcvqb2G4TbqD3SjLK8Hds76KiU9MwhdN8NynKFmWjhmLX0bclDm4lYqKTuEPf/gMq1alwuO5A5Zl3XpECj1pLdGftJYgUtBaojdEClejtcS1aC3hIlLoiUihN1pLhCJS0FrCRaSgtURfESlcjdYSlnUjwvB3Jtjagb0/LkPGmkfgjR6G/nSiuBBG0vxcXMuxg0dxVn+KCZO/jvfffh8Pzp6O2PhY3E7nzl3GCy8cx7PPToTPNxShiopO4ZlnDiM/Pxl5eUlwNTc1493yw5g8azLq3v8Ad1EMJs1MxfWcKC6EkTQ/FwOhva0dFUXlSJ42EU3+JhhpWekwzp27jBdeOI5nn50In28oPi+//wKUOolly5Lh8dwBV3tbOyqKypE8bSKa/E0w0rLScbNOFBfi0CtLYWSuKUPclDm4FVpP1qDm9Rcx619/iTBPBPoieO5TlCxLx/mmP2LMA5nIeP4NhHki0NOVzkt4e91TSFm4AtEJKehv+0sqYcQnxqP2D8fxzezZiBwRid5oLdEbIoWeiBRCaS3RGyKFUEQKhtYSLiIFQ2sJg0hBawmDSOF6iBSuRWuJvtJaIpTWEjdKa4lQRApGe1s7KorKkTxtIpr8TTDSstJhWVcThlugq7MLB0rfxtenJiE2PhZGuDccWb/IxheV1xeDx39dj/7iGeZF+NAhuJrs7LHIzh6LgfDyyycwZkwk1q+fjsbGdvQUPiQMEVGR+FsTFh6GYcMjMJDCwsMwbHgE+kPS/Fwkzc/FwcLF+KLx+mLw+K/r0XqyBjWvv4iBFOWLQn/QWiIUkYLWEldDpOAiUtBawtBaIhSRgkGkoLVEXxEpuIgUXFpLuIgUbhaRQigiBUNrCYNIwaW1BJGCi0hBawmDSKE3YeFhGDY8Aj3tL6lElC8Kk2amwrKMMPSz9rZ2VBSVY8y9dyM2PhZG0zt/hjPvtzAeLZyHiU9MguvwugMYEjEEe/+tDMajhfMw8YlJaP1TC05srcYFfQF1b9ZCTCYsUN+FN3oYjr92DMbEJyahO9iNfSv/B5OfmoYTW6vxbsE7MOrerIXx4NKHkLYyA9dyorgQh15ZCiNzTRnipsyB6/R7e1D640fgmvF0AfoqMioS3ggPIqMiYZw7dxlLlhxGZeUZLFp0D1atSoXHcweMX/7yQ3i9d2DFiiMw1q+fjuzssfD7L6CkpBFnzgSxZUsD0tNHY8OG6fD5hqKo6BSM7Oyx6Oz8C9aurYWUCSgpacRLL9XC2LKlAUZ+fjLy8pKQl5cEo6joFHozZOgQeIZ5MeLOEbiW1pM12LUiA51tLTAOvbIUnhGj8NiLe3Hm+H6cb6zHzNyNMFpP1uBg4dP41n8UoeNcM+p3bkL72UY0VpViZPw4ZK2thNcXgyudl7D3p4+jsaoURuaaMsRNmYO+ivJFwfXyyyfw0ku1MLZsaYCRn5+MvLwkGEeOfIb58/fCWLToHqxalYpg8AqWLDmMb397LLKzx8Lvv4CcnHfwk5+kYseORmzZ0gBj48Z6GOvXT0d29liEivJFoS9aT9agfucmtJ9tRGNVKUbGj0PW2kp4fTHozZXOS9j708fRWFUKY8wDmch4/g2EeSJgnH5vD0p//AiMkfHjkLW2El5fDFpP1mDXigx0trVgZPw4ZK2thNcXA9fb655Cwz6FkfHjkLW2El5fDILnPkXJsnScb/ojjMw1ZYibMgfXc7BwMep2boLhGTEKKQtXwGg9WYNdKzLQ2daCkfHjkLW2El5fDE6/twd/Kt+MrkttaKwqxcj4cchaWwmvLwZ9MWx4BCJHDMeQoUPgIlLoiUghlNYSN0NrCYNIQWsJQ2sJg0hBawlDawkXkYJLa4lr0VrCIFLQWsIgUiBSuBoihb7SWkJrCYNIwdBawiBS0FrCIFLQWsLQWsIgUtBawqW1hEGkoLXE1UT5ohBq+uwZ2PdWBY4dPIpJM1NhWeB+dPH8RS5+tYj9HzTw1dRsOco1W45yqMpV5bzjR9u4q6OLWz78jN9Y+Bp3tFzilg8/41dS1nHjwVNs1Gw5ypWrytmo2XKUa7YcZaOro4v3LNvJLR9+xkZHyyXe8aNt3NFyiW/UgYIcbjpSxq4WfzUXL53BHYFmNmq3F3Dt9gI2Knfs460bHN66weGtGxzeusFh/wcN3BcNDW28evUxDgavsGvdulpevryKg8Er3NDQxosXv8OBQCc3NLRxRkYpV1WdZWPbto953bpaNrZt+5i3bfuYjWDwCq9efYwbGtrYCAQ6efnyKg4EOvlqtm37mNetq+X+ULu9gGu3F3CojkAz734ukzsCzWzUbi/g2u0FbLT4q3nzglHcdKSMjdrtBXygIIeNAwU53HSkjI2OQDMXL53BLf5q9n/QwFs3OLx1g8NbNzi8dYPDlTv28fUEAp28fHkVBwKdHKqhoY1Xrz7GweAVNrZt+5jXratlIxDo5OXLqzgQ6OR162q5quosuxoa2nj16mMcDF7hz6vFX82bF4zipiNlbNRuL+ADBTkc6kBBDjcdKePe1G4v4NrtBWy0+Ku5eOkM7gg0c6iOQDPvfi6TOwLNbDQdKePdz2Vyd7CdW/zVvHnBKK7dXsDGgYIcrt1ewN3Bdt79XCY3HSljoyPQzMVLZ3CLv5pdLf5qrlgjuTvYzq7a7QV8oCCHje5gO1eskdzir+aOQDPvfi6TOwLNbDQdKePdz2Vyd7Cdm46U8eYFo7jFX81G7fYCrt1ewJeDl7lsaylv3eDw1g0Ob93g8Ju/eIPPNJ7h6xHC4WsRwmGXEA4L4bAQDgvhsBAOC+GwEA4L4bAQDgvhsBAOhxLC4Z6EcPhqhHC4JyEcdgnhcE9COHyzhHD4WoRw2BDCYSEcdgnhsCGEwz0J4bBLCIeFcFgIh4VwWAiHhXC4ryp37OPKHfvYssLQT5qbmvFu+WE8OHs6YuNjcSPu/+fJCPeGY1j0MHhGeOBKnH0vYlMFDJoaj+bqT9Ad7Mbtcub4fiSmL4TXF4Oe0rLS0d8WLBgLj+cO3HnnUAwfHg5XWtpoJCffCSMl5U7U1Z1HZ+df8EXm9cUg8q4xaPVXIzZpJs431mPy934CV1zqbMQmzYQxemIazta/i4vNH+OTmkrU7dwEl2fEKBgJExKRMCER/aWmJoCNG+uxcWM9XPn5yTB8vqFYsGAskpKKkJ+fjKlTv4JbJS51NmKTZsIYPTENZ+vfxZXOSwjzRKA3BwsXo27nJrhmPF0A48zx/UhMXwivLwahWv3VaKwqxe8WxsI15oFMuOJSZ2PcIz+EMXLMeBjdwXYY0Yn3w/D6YhCdMBHBQDOQkIKrudJ5CWfr30XKwhXoqdVfjcaqUvxuYSxcYx7IhCvhGwsQnZACI2l+LlxzFj6KW01riZ6IFLSWuB4iBa0liBRcRAourSV6IlJwESlcC5GC1hJEClejtcSNIlLQWsKltQSRgtYS10OkoLWEobWEQaSgtcSNSMtKx/6SSux5fTce/odvYohnCKwvpzD0k9j4WGR8ezYqisqRPG0iEiYkoj91fHYJly9cxhfF/pJKNDeeQaipDz+AhAmJuJUCgcu4eLEbfwvGz81Bw/868N4Zi7vGTYPXF4OrCQaa0XWpDUbU6ARkra2E1xeDUCfr/DiyrwqhYseMRlpWOm7W+vXTkZ09Fr1ZvHg8IiLCcbsEA83outSGazn93h58UlOJ773eDK8vBieKC9EXE+bmYGbuRgykCXNzMDN3I/qqq7ML+96qwPmW83CFhYfhoUe/gdj4WPQnIgWtJXpDpKC1hEGk4NJawtBagkhBawmDSEFrCYNIwSBSMLSWIFLQWsJFpOAiUnBpLWFoLWEQKWgtcTVEClpL9ESkoLWES2sJg0hBawlDa4neECm4tJZwESm4iBQMrSX6Yn9JJYw5Cx+F9eUWhn4UOSIS38yejYqicrQF2jBpZir6y8mKj3D3rK8i3BsO45y/FUZ90Qn4yz/C5KemwdXZ1omO1g54o4fh8xgZdx9OFBdi3CM/RNsnDTj62mqkPvHvMNKy0jEQ3nnnU0yb9hV4PHfAaGxsh1Fa2oT9+89AygS4Ll7sRiBwGT7fUNxq5xvr0dMIcQ+6Oy6g8d2dGPPgXPTm1KFixE2Zg+GxX0XkXWPg3/86kubnIlTChEQkTEjEzbh4sRuBwGX4fEPhSkm5Ez//+Qk8/PBo+HxDEcrvv4Df/OYj/Oxnk7F580coKjqF7OyxcH3ySQeCwSvweO5Afzp1qBhxU+YgzBOBa4kanYBwbySC5z5FXclGTMhaDGNk3H04tDEPiWkL4fXFwBWdeD/e3/KfaD1Zg+iEFPRFuDcSRqu/GnFT5qD1ZA0+qd6H8XNz0JswTwSGRIzAmeP7EZ2Qgj+W/Rqnj5YjZeEKRCfej/e3/CdaT9YgOiEFfTHEMwRzFj6Km0WkcCtoLWEQKfSF1hJEClpL9IXWEgaRgotIQWsJg0jB0FqiL7SWIFLQWsIgUnARKRhaS/RGawmDSKEnrSVcRArX09XZhX1vVeAuisGkmamwrDD0s8gRkXhUPoYDpW+juakZsfGxOP7aMezO3QHX7twd+O6OJxH/0N24Fn/5Rzj26nswHlz6ECY+MQnGvY/chzelgxejV2HSD6Ygcfa9cHmjh+G+rPH41fT/gvHg0oeQtjID13KwcDHqdm6CUbdzEzwjRuGxF/ciNmkmThQX4tV5kRjzQCaS/zEPn4fffwE5Oe+gru48jI0b65Gfn4y8vCRcy/79Z7BxYz2M/PxkZGePhfHww6OxZMlhECksXjweaWmj4fL5hiIjQ2DWrF0w8vOTkZeXhKKiU3jmmcNwvfRSLYqLMzB16ldwsxLTFqJkWTr++1uD4BkxCo+9uBfRCSkI80Rg5JjxOP3eHiRn5yHU6aPleHVeJIwJc3OQND8XxuTv/QQly9Jx6JWlMMY8kImM599AmCcCN8PnG4qMDIFZs3bByM9PRl5eEhITo5CRIZCUVARXcXEG7rknCitXHkVe3tfh8w3F979/L5YsOQwjO3ssEhOj8LWvRSEpqQjG+vXTkZ09Fjfr9NFyvDovEsaEuTlImp8L42DhYtTt3ASjbucmeEaMwmMv7kVs0kycKC7Eq/MiMTJ+HO6ePg+uuClzMCFrMX63MBbGyPhxyFpbCa8vBpMXrcS2nPvhmvF0AZLm56I3YZ4ITP3BGuxakYHOthYYmWvKEJ2QgtaTNdi1IgOdbS0wGvYpTJibg5m5GzF+bg52rcjAoVeWYuqTP0Vc6mwYXl8MJi9aiW0598M14+kCJM3Pxa2gtcTtprUEkYKhtcStorVET0QKWkv0RmsJIgWtJbSWIFLQWsIgUnBpLUGkoLVEb4gUtJYgUrhRh8sP4S6KwaSZqbCs/8dfUC0ffsZ7lu3kro4u/jJraGjj1auPcTB4hf8WHSjI4aYjZRyqxV/NFWskdwfb+cusxV/NFWskdwfb2epfQjhsCOGwSwiHXUI4HEoIh4VwWAiHhXBYCIeFcFgIh4VwWAiHexLC4VBCOOwSwuFQQjgshMMuIRwOJYTDPQnhsEsIhw0hHO5JCId7EsLhnoRwOJQQDgvhcCghHDaEcLgnIRw2hHDYEMJhIRwWwmEhHBbCYcu6UWGwrFvgYOFi1O3chBlPFyBuyhxY1u1CpKC1hKG1BJGC1hJaSxApaC2htQSRgtYShtYS10KkEIpIwUWkYGgt4dJagkhBawmX1hJECi4ihVBEClpLGEQKLiIFrSWIFAwiBZfWElpLhCJSuBqtJQwiBUNrCYNIQWsJIgWtJQytJYgUtJYwiBQMIgWtJVxaS7iIFCzrRg3iv4JlWZZlWdZtNhiWZVmWZVkDYDAsy7Isy7IGQFhbWxssy7Isy7Jut0H8V7Asy7Isy7rNBsOyLMuyLGsADIZlWZZlWdYAGIweBg0aBMuyLMuyrFttMCzLsizLsgbA/wE24jNueR4ytAAAAABJRU5ErkJggg==)

这里输出的是真实的DOM而不是虚拟DOM，我们不会操作虚拟DOM因为它对于我们来说没有用。

那么我们可以把原先的写法改为如下写法

```jsx
showData = () => {
    const input = this.refs.input1;
    alert(input.value);
}
```

### 回调函数形式的ref

ref的值是一个回调函数

```jsx
<input ref={(param)=>{console.log(param)}} id="input1" type="text" placeholder="点击按钮提示数据"/>
```

页面运行结果
![图片](data:image/png;base64,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)

可以发现参数正是当前DOM元素

常用写法如下

```jsx
class Demo extends React.Component {
    showData = () => {
        alert(this.input.value)
    }

    render() {
        return (
                <div>
                    <input ref={c => this.input = c} id="input1" type="text" placeholder="点击按钮提示数据"/>&nbsp;
                    <button onClick={this.showData}>点我提示左侧的数据</button>
                    &nbsp;
                </div>
        )
    }
}

ReactDOM.render(<Demo/>, document.getElementById('test'));
```

注意：如果ref回调函数是以内联函数的方式定义的，在更新过程中它会被执行两次，第一次传入参数null，第二次会传入参数DOM元素。这是因为在每次渲染时会创建一个新的函数实例，所以React清空旧的ref并且设置新的。通过将ref的回调函数定义成class的绑定函数的方式可以避免上述问题，但是大多数情况下它是无关紧要的。

### 使用createRef

这种写法是React目前最推荐的

```jsx
class Demo extends React.Component {
    /**
     * React.createRef调用后可以返回一个容器，该容器可以存储被ref所标识的节点
     * 该容器是“专人专用”的，意味着这个容器只能供一个DOM元素使用
     */
    myRef = React.createRef();

    render() {
        return (
                <div>
                    <input ref={this.myRef} id="input1" type="text" placeholder="点击按钮提示数据"/>&nbsp;
                    <button onClick={this.showData}>点我提示左侧的数据</button>
                    &nbsp;
                </div>
        )
    }
}

ReactDOM.render(<Demo/>, document.getElementById('test'));
```

我们输出容器看看

```jsx
showData = () => {
    console.log(this.myRef);
}
```

容器是个对象
![图片](data:image/png;base64,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)

那么我们可以这样获取input的值。这里的current是React提供的，不能更改

```jsx
showData = () => {
    console.log(this.myRef.current.value);
}
```



